<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>FireStorage</title>
  <base href="/">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" type="image/x-icon" href="favicon.ico">
</head>
<body>
  <app-root>Loading...</app-root>

  <script src="https://www.gstatic.com/firebasejs/3.5.2/firebase.js"></script>
<script>
  // Initialize Firebase
function filebuttoni(key){

  var config = {
    apiKey: "AIzaSyCHeN-Y9QA6dKHP9mYPF93yHXFDL-4o4nU",
    authDomain: "to-do-mat2.firebaseapp.com",
    databaseURL: "https://to-do-mat2.firebaseio.com",
    storageBucket: "to-do-mat2.appspot.com",
    messagingSenderId: "239514467093"
  };
  firebase.initializeApp(config);
  var uploader = document.getElementById("uploader");
  var fileButton = document.getElementById("filebutton");
  fileButton.addEventListener('change', function(e){
  	var file = e.target.files[0];
  	var storageref = firebase.storage().ref('imageUploads/'+file.name);
  	var task = storageref.put(file);
  	task.on('state_changed',
  			function progress(snapshot){
  				var percentage = (snapshot.bytesTransferred/snapshot.totalBytes)*100;
  				uploader.value=percentage;
  				console.log(percentage);
  			},
  			function error(err){

  			},
  			function complete(){

  			}
  		);
  });
}  
</script>
</body>
</html>
